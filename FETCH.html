!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Todo Application</h1>

    <div id="todo-container"></div>

<script>
    
async function fetchTodos() {
    try {
        let res = await fetch("https://jsonplaceholder.typicode.com/todos");
        let data = await res.json();

        
        let twenty = data.slice(0, 20);
        localStorage.setItem("todos", JSON.stringify(twenty));

        renderTodos();
    } catch (error) {
        console.log("Error:", error);
    }
}


function renderTodos() {
    let container = document.getElementById("todo-container");
    container.innerHTML = "";

    let todos = JSON.parse(localStorage.getItem("todos")) || [];

    if (todos.length === 0) {
        container.innerHTML = "<h3>No Todos Available</h3>";
        return;
    }

    todos.forEach((todo, index) => {
        let div = document.createElement("div");
        div.style.border = "1px solid black";
        div.style.padding = "10px";
        div.style.margin = "10px 0";

        let title = document.createElement("p");
        title.textContent = "Title: " + todo.title;

        let status = document.createElement("p");
        status.textContent = "Completed: " + todo.completed;

        let delBtn = document.createElement("button");
        delBtn.textContent = "Delete";
        delBtn.onclick = () => deleteTodo(index);

        div.append(title, status, delBtn);
        container.append(div);
    });
}


function deleteTodo(index) {
    let todos = JSON.parse(localStorage.getItem("todos")) || [];

    todos.splice(index, 1); 

    localStorage.setItem("todos", JSON.stringify(todos));

    renderTodos(); 
}


fetchTodos();

</script>
</body>
</html>